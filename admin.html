<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ê–¥–º–∏–Ω | Exam Platform</title>
  <!-- –æ—Å—Ç–∞–ª—å–Ω–æ–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
  <link rel="stylesheet" href="style.css" />
  
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>
  <header>
    <h1>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
    <nav>
      <a href="index.html"><button>–ì–ª–∞–≤–Ω–∞—è</button></a>
    </nav>
  </header>

  <main>
    <section>
      <h3>–°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç</h3>
      <form id="subjectForm">
        <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞:<br>
          <input type="text" id="newSubjectName" required>
        </label>
        <button type="submit" class="start-btn">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
      </form>
    </section>

    <section>
      <h3>–î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å –∫ –ø—Ä–µ–¥–º–µ—Ç—É</h3>
      <form id="questionToSubjectForm">
        <label>–í—ã–±—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç:<br>
          <select id="adminSubjectSelect"></select>
        </label><br><br>
        <label>–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞:<br>
          <textarea id="adminNewQuestion" rows="3" required></textarea>
        </label><br><br>
        <button type="submit" class="start-btn">–î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å</button>
      </form>
    </section>

    <section>
      <h3>–ü—Ä–µ–¥–º–µ—Ç—ã –∏ –≤–æ–ø—Ä–æ—Å—ã</h3>
      <div id="subjectsContainer"></div>
    </section>
    
    <section>
      <label>–§–∏–ª—å—Ç—Ä –ø–æ –∏–Ω—Å—Ç–∏—Ç—É—Ç—É:
        <select id="adminInstituteFilter">
          <option value="">--–í—Å–µ –∏–Ω—Å—Ç–∏—Ç—É—Ç—ã--</option>
          <option value="–ò–ü–ò–¢">–ò–ü–ò–¢</option>
          <option value="–ò–¶–≠–ò–¢–ü">–ò–¶–≠–ò–¢–ü</option>
          <option value="–ò–≠">–ò–≠</option>
          <option value="–ò–°–ê–ò–î">–ò–°–ê–ò–î</option>
        </select>
      </label>
    </section>
    
    <section>
      <h3>–°—Ç—É–¥–µ–Ω—Ç—ã (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ)</h3>
      <table id="studentsTable" border="1" cellpadding="5">
        <thead>
          <tr>
            <th><input type="checkbox" id="selectAllStudents"></th>
            <th>–§–ò–û</th>
            <th>–ì—Ä—É–ø–ø–∞</th>
            <th>–ò–Ω—Å—Ç–∏—Ç—É—Ç</th>
            <th>–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞</th>
            <th>–°—Ç–∞—Ç—É—Å / –û—Ü–µ–Ω–∫–∞</th>
          </tr>
        </thead>
        <tbody id="studentsTableBody"></tbody>
      </table>
      
      <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ -->
      <button class="start-btn" id="deleteSelectedStudents">‚ùå –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</button>
      
      <!-- üì• –ö–ù–û–ü–ö–ê –≠–ö–°–ü–û–†–¢–ê –î–õ–Ø –ê–î–ú–ò–ù–ê -->
      <button class="start-btn" onclick="downloadAdminReport()">üìä –°–∫–∞—á–∞—Ç—å –ø–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç (Excel)</button>
    </section>
  </main>

  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDKRSJJSMi-9yqL7oP3A3HrWutLE_8NryM",
      authDomain: "exam-ggntu.firebaseapp.com",
      databaseURL: "https://exam-ggntu-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "exam-ggntu",
      storageBucket: "exam-ggntu.firebasestorage.app",
      messagingSenderId: "571703714041",
      appId: "1:571703714041:web:560b4b1ff2f79fbfb20228",
      measurementId: "G-23VG8W5904"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  <script src="script.js"></script>
</body>
</html>